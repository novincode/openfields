/**
 * OpenFields Group Field Styles
 *
 * Clean, modern styles for group fields that contain sub-fields.
 * Uses CSS custom properties for theming.
 *
 * @package OpenFields
 * @since   1.0.0
 */

/* ==========================================================================
   CSS Custom Properties
   ========================================================================== */

.cof-group {
	--of-border-color: #c3c4c7;
	--of-border-radius: 4px;
	--of-spacing-xs: 4px;
	--of-spacing-sm: 8px;
	--of-spacing-md: 12px;
	--of-spacing-lg: 16px;
	--of-group-bg: #f9f9f9;
	--of-transition: 0.15s ease;
}

/* ==========================================================================
   Group Container
   ========================================================================== */

.cof-group {
	box-sizing: border-box;
	background: var(--of-group-bg);
	border: 1px solid var(--of-border-color);
	border-radius: var(--of-border-radius);
	padding: var(--of-spacing-lg);
}

.cof-group *,
.cof-group *::before,
.cof-group *::after {
	box-sizing: border-box;
}

/* ==========================================================================
   Group Content (Sub-fields Container)
   ========================================================================== */

.cof-group-content {
	display: flex;
	flex-wrap: wrap;
	gap: var(--of-spacing-lg);
	margin: 0;
}

/* Block layout - full width sub-fields */
.cof-group-content[data-layout="block"] {
	flex-direction: column;
}

.cof-group-content[data-layout="block"] .cof-group-subfield {
	width: 100% !important;
}

/* Row layout - horizontal sub-fields */
.cof-group-content[data-layout="row"] {
	flex-direction: row;
}

/* Table layout - table-like appearance */
.cof-group-content[data-layout="table"] {
	display: table;
	width: 100%;
	border-collapse: collapse;
}

.cof-group-content[data-layout="table"] .cof-group-subfield {
	display: table-row;
}

.cof-group-content[data-layout="table"] .cof-field-label,
.cof-group-content[data-layout="table"] .cof-field-input {
	display: table-cell;
	padding: var(--of-spacing-sm);
	vertical-align: top;
}

.cof-group-content[data-layout="table"] .cof-field-label {
	width: 200px;
	white-space: nowrap;
}

/* ==========================================================================
   Sub-field Styling
   ========================================================================== */

.cof-group-subfield {
	/* Inherits from .cof-field-wrapper */
	position: relative;
}

/* Width handling for row layout */
.cof-group-content[data-layout="row"] .cof-group-subfield[style*="width: 50%"] {
	width: calc(50% - var(--of-spacing-lg) / 2) !important;
}

.cof-group-content[data-layout="row"] .cof-group-subfield[style*="width: 33%"] {
	width: calc(33.333% - var(--of-spacing-lg) * 2 / 3) !important;
}

.cof-group-content[data-layout="row"] .cof-group-subfield[style*="width: 25%"] {
	width: calc(25% - var(--of-spacing-lg) * 3 / 4) !important;
}

/* ==========================================================================
   Nested Groups
   ========================================================================== */

.cof-group .cof-group {
	background: #fff;
	margin-top: var(--of-spacing-md);
}

.cof-group .cof-group .cof-group {
	background: var(--of-group-bg);
}

/* ==========================================================================
   Responsive Adjustments
   ========================================================================== */

@media screen and (max-width: 782px) {
	.cof-group-content {
		flex-direction: column;
	}

	.cof-group-content .cof-group-subfield {
		width: 100% !important;
	}

	.cof-group-content[data-layout="table"] {
		display: block;
	}

	.cof-group-content[data-layout="table"] .cof-group-subfield {
		display: block;
	}

	.cof-group-content[data-layout="table"] .cof-field-label,
	.cof-group-content[data-layout="table"] .cof-field-input {
		display: block;
		width: 100%;
	}
}
